// https://github.com/golang/vscode-go/wiki/debugging#launchjson-attributes
{
    "version": "0.2.0",
    "configurations": [
        {
            "name": "tpadm status",
            "type": "go",
            "request": "launch",
            "mode": "debug",
            "preLaunchTask": "debug_config_pkcs11",
            "program": "${workspaceRoot}/pkg",
            "args": [
                "status",
                "--raw-so-pin", "test",
                "--raw-pin", "test"
            ],
        },
        {
            "name": "tpadm platform install",
            "type": "go",
            "request": "launch",
            "mode": "debug",
            "preLaunchTask": "debug_config_pkcs11",
            "program": "${workspaceRoot}/pkg",
            "args": [
                "platform",
                "install",
                "--raw-so-pin", "test",
                "--raw-pin", "test"
            ],
        },
        {
            "name": "tpadm platform provision",
            "type": "go",
            "request": "launch",
            "mode": "debug",
            "preLaunchTask": "debug_config_pkcs11",
            "program": "${workspaceRoot}/pkg",
            "args": [
                "platform",
                "provision",
                "--init",
                "--raw-so-pin", "test",
                "--raw-pin", "test"
            ],
        },
        {
            "name": "tpadm platform destroy",
            "type": "go",
            "request": "launch",
            "mode": "debug",
            "preLaunchTask": "debug_config_pkcs11",
            "program": "${workspaceRoot}/pkg",
            "args": [
                "platform",
                "destroy",
            ],
        },
        {
            "name": "tpadm platform password",
            "type": "go",
            "request": "launch",
            "mode": "debug",
            "preLaunchTask": "debug_pkcs11_no_clean",
            "program": "${workspaceRoot}/pkg",
            "args": [
                "platform",
                "password",
                "--cn", "root-ca.example.com",
                "--store", "pkcs8",
                "--algorithm", "rsa",
                "--raw-so-pin", "test",
                "--raw-pin", "test"
            ],
        },
        {
            "name": "tpadm tpm ek",
            "type": "go",
            "request": "launch",
            "mode": "debug",
            "preLaunchTask": "debug_config_pkcs11",
            "program": "${workspaceRoot}/pkg",
            "args": [ 
                "tpm",
                "ek" ,
                "--raw-so-pin", "123456",
                "--raw-pin", "123456"
            ],
        },
        {
            "name": "tpadm version",
            "type": "go",
            "request": "launch",
            "mode": "debug",
            "preLaunchTask": "rm_trusted_data",
            "program": "${workspaceRoot}/pkg",
            "args": ["version", "--debug"],
        },
        {
            "name": "tpadm pkcs11 ykcs11",
            "type": "go",
            "request": "launch",
            "mode": "debug",
            "preLaunchTask": "debug_config_pkcs11",
            "program": "${workspaceRoot}/pkg",
            "args": [ 
                "pkcs11",
                "--module", "/usr/local/lib/libykcs11.so"
            ],
        },
        {
            "name": "tpadm ca show",
            "type": "go",
            "request": "launch",
            "mode": "debug",
            "preLaunchTask": "debug_config_pkcs11",
            "program": "${workspaceRoot}/pkg",
            "args": [ 
                "ca",
                "show",
                "--init",
                "--cn", "intermediate-ca.example.com",
                "--raw-so-pin", "test",
                "--raw-pin", "test"
            ],
        },
        {
            "name": "tpadm ca pem",
            "type": "go",
            "request": "launch",
            "mode": "debug",
            "preLaunchTask": "debug_config_pkcs11",
            "program": "${workspaceRoot}/pkg",
            "args": [ 
                "ca",
                "pem",
                "--init",
                "--cn", "intermediate-ca.example.com",
                "--raw-so-pin", "test",
                "--raw-pin", "test"
            ],
        },
        {
            "name": "tpadm ca issue",
            "type": "go",
            "request": "launch",
            "mode": "debug",
            "preLaunchTask": "debug_config_pkcs11",
            "program": "${workspaceRoot}/pkg",
            "args": [ 
                "ca",
                "issue",
                "--init",
                "--cn", "test.example2.com",
                "--raw-so-pin", "test",
                "--raw-pin", "test"
            ],
        },
        {
            "name": "tpadm ca install-ca-certificates",
            "type": "go",
            "request": "launch",
            "mode": "debug",
            "preLaunchTask": "rm_trusted_data",
            "program": "${workspaceRoot}/pkg",
            "args": [
                "ca",
                "install-ca-certificates",
                "--debug",
                "--init",
                "--raw-so-pin", "123456",
                "--raw-pin", "123456"
            ],
        }, 
        {
            "name": "tpadm ca revoke (clean)",
            "type": "go",
            "request": "launch",
            "mode": "debug",
            "preLaunchTask": "debug_config_pkcs11",
            "program": "${workspaceRoot}/pkg",
            "args": [
                "ca",
                "revoke",
                "--init",
                "--cn", "example.com",
                "--raw-so-pin", "123456",
                "--raw-pin", "123456"
            ],
        },
        {
            "name": "tpadm ca show",
            "type": "go",
            "request": "launch",
            "mode": "debug",
            "preLaunchTask": "debug_config_pkcs11",
            "program": "${workspaceRoot}/pkg",
            "args": [
                "ca",
                "show",
                "--cn", "example.com",
                "--raw-so-pin", "123456",
                "--raw-pin", "123456"
            ],
        }, 
        {
            "name": "tpadm ca revoke",
            "type": "go",
            "request": "launch",
            "mode": "debug",
            "preLaunchTask": "debug_config_pkcs11",
            "program": "${workspaceRoot}/pkg",
            "args": [
                "ca",
                "revoke",
                "--init",
                "--cn", "example.com",
                "--raw-so-pin", "123456",
                "--raw-pin", "123456"
            ],
        }, 
        {
            "name": "tpadm tpm eventlog",
            "type": "go",
            "request": "launch",
            "mode": "debug",
            "preLaunchTask": "debug_config",
            "program": "${workspaceRoot}/pkg",
            "args": [
                "tpm",
                "eventlog",
            ],
        },
        {
            "name": "tpadm tpm ek",
            "type": "go",
            "request": "launch",
            "mode": "debug",
            "preLaunchTask": "rm_trusted_data",
            "program": "${workspaceRoot}/pkg",
            "args": [
                "tpm",
                "ek",
                "--init",
                "--raw-so-pin", "123456",
                "--raw-pin", "123456"
            ],
        },
        {
            "name": "tpadm webservice",
            "type": "go",
            "request": "launch",
            "mode": "debug",
            "preLaunchTask": "debug_config_pkcs11",
            "program": "${workspaceRoot}/pkg",
            "args": ["webservice",
                "--debug",
                "--platform-dir", "trusted-data",
                "--config-dir", "trusted-data/etc",
                "--log-dir", "trusted-data/log",
                "--ca-dir", "trusted-data/ca",
                "--raw-so-pin", "test",
                "--raw-pin", "test"
            ],
        },
        {
            "name": "tpadm webservice (clean)",
            "type": "go",
            "request": "launch",
            "mode": "debug",
            "preLaunchTask": "debug_config_clean",
            "program": "${workspaceRoot}/pkg",
            "args": ["webservice",
                "--debug",
                "--init",
                "--platform-dir", "trusted-data",
                "--config-dir", "trusted-data/etc",
                "--log-dir", "trusted-data/log",
                "--ca-dir", "trusted-data/ca",
                "--raw-so-pin", "123456",
                "--raw-pin", "123456"
            ],
        },
        {
            "name": "tpadm webservice (clean, pkcs11)",
            "type": "go",
            "request": "launch",
            "mode": "debug",
            "preLaunchTask": "debug_config_clean_pkcs11",
            "program": "${workspaceRoot}/pkg",
            "args": ["webservice",
                "--debug",
                "--init",
                "--platform-dir", "trusted-data",
                "--config-dir", "trusted-data/etc",
                "--log-dir", "trusted-data/log",
                "--ca-dir", "trusted-data/ca",
                "--raw-so-pin", "123456",
                "--raw-pin", "123456"
            ],
        }, {
            
            "name": "tpadm verifier (init)",
            "type": "go",
            "request": "launch",
            "mode": "debug",
            "preLaunchTask": "verifier_init",
            "program": "${workspaceRoot}/pkg",
            "args": ["verifier",
                "--debug",
                "--init",
                "--platform-dir", "../attestation/verifier/trusted-data",
                "--config-dir", "../attestation/verifier/trusted-data/etc",
                "--log-dir", "../attestation/verifier/trusted-data/log",
                "--ca-dir", "../attestation/verifier/trusted-data/ca",
                "--attestor", "www.attestor.example.com",
                "--ak-password", "ak-password",
                "--raw-so-pin", "123456",
                "--raw-pin", "123456"
            ],
        }, {
            "name": "tpadm verifier",
            "type": "go",
            "request": "launch",
            "mode": "debug",
            // "preLaunchTask": "debug_config",
            "program": "${workspaceRoot}/pkg",
            "args": ["verifier",
                "--debug",
                "--platform-dir", "../attestation/verifier/trusted-data",
                "--config-dir", "../attestation/verifier/trusted-data/etc",
                "--log-dir", "../attestation/verifier/trusted-data/log",
                "--ca-dir", "../attestation/verifier/trusted-data/ca",
                "--attestor", "www.attestor.example.com",
                "--ak-password", "ak-password",
                "--raw-so-pin", "123456",
                "--raw-pin", "123456"
            ],
        }, {
            "name": "tpadm attestor (init)",
            "type": "go",
            "request": "launch",
            "mode": "debug",
            "preLaunchTask": "attestor_init",
            "program": "${workspaceRoot}/pkg",
            "args": ["attestor",
                "--debug",
                "--init",
                "--platform-dir", "../attestation/attestor/trusted-data",
                "--config-dir", "../attestation/attestor/trusted-data/etc",
                "--log-dir", "../attestation/attestor/trusted-data/log",
                "--ca-dir", "../attestation/attestor/trusted-data/ca",
                "--raw-so-pin", "123456",
                "--raw-pin", "123456"
            ],
        }, {
            "name": "tpadm attestor",
            "type": "go",
            "request": "launch",
            "mode": "debug",
            "preLaunchTask": "debug_config",
            "program": "${workspaceRoot}/pkg",
            "args": ["attestor",
                "--debug",
                "--platform-dir", "../attestation/attestor/trusted-data",
                "--config-dir", "../attestation/attestor/trusted-data/etc",
                "--log-dir", "../attestation/attestor/trusted-data/log",
                "--ca-dir", "../attestation/attestor/trusted-data/ca",
                "--raw-so-pin", "123456",
                "--raw-pin", "123456"
            ],
        }
    ]
}
